@using DoAn1_DDG_Pro.Models.ViewModels;
@model CartItemViewModels


@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    ViewData["Title"] = "Cart";
    Layout = "~/Views/Shared/_LayoutDDG.cshtml";
}
@{
}
<div class="wrapper-mainCart">
	<div class="content-bodyCart">
		
        
			<div class="container">
			@if (Model.CartItems.Count > 0)
			{

				<div class="row">
					<div class="col-lg-8 col-md-12 col-12 contentCart-detail">
						<div class="mainCart-detail">
							<h1 class="heading-cart">Giỏ hàng của bạn</h1>
						
							<div class="list-pageform-cart">
								<form action="/cart" method="post" id="cartformpage">
									<div class="cart-row">
										<p class="title-number-cart">
											Bạn đang có <strong class="count-cart" @Model.CartItems.Count > sản phẩm</strong> trong giỏ hàng
										</p>
										@foreach(var item in Model.CartItems)
										{
											
										
										<div class="table-cart">
											<div class="media-line-item line-item" data-variant-id="1104775471" data-product-id="1046473322">
												<div class="media-left">
													<div class="item-img">
														<a href="/products/pc-ttg-csgo-valorant-pubg-fifa-lol-rx550-full-new-bao-hanh-36-thang">
															<img src="~/LayoutDDGSHOP/img/LinhKien/HinhTren/@item.Imgtop">
														</a>
													</div>
													<div class="item-remove">
															<a asp-controller="Cart" asp-action="Remove" asp-route-ProductId="@item.ProductId" class="cart">Xóa</a>
													</div>
												</div>
												<div class="media-right">
													<div class="item-info">
														<h3 class="item--title"><a href="">@item.ProductName</a></h3>

													</div>
													<div class="item-price">
														<p>
															<span>@item.Price</span>

															

														</p>
													</div>
												</div>
												<div class="media-total">
													<div class="item-total-price">
														<div class="price">
															<span class="line-item-total">@Model.CartItems.Where(x=>x.ProductId == @item.ProductId).Sum(x=>x.Quantity*x.Price)</span>
														</div>
													</div>
													<div class="item-qty">
														<div class="qty quantity-partent qty-click clearfix">
															<button type="button" class="qtyminus qty-btn" asp-controller="Cart" asp-action="Increase" asp-route-ProductId="@item.ProductId">
																<svg width="18" height="18" viewBox="0 0 20 20"  > <rect height="1" width="18" y="9" x="1"></rect></svg>
															</button>
															<input type="text" size="4" name="updates[]" min="1" oriprice="799000000" line="1"   value="@item.Quantity" readonly="" class="tc line-item-qty item-quantity">
																<button type="button" class="qtyplus qty-btn" asp-controller="Cart" asp-action="Decrease" asp-route-ProductId="@item.ProductId">
																<svg width="18" height="18" viewBox="0 0 20 20" > <rect x="9" y="1" width="1" height="17"></rect> <rect x="1" y="9" width="17" height="1"></rect></svg>
															</button>
														</div>
													</div>
												</div>
											</div>

										</div>
									
										}
										

									</div>

								
									<div class="cart-row">
										<div class="order-noted-block">
											<div class="container-pd15">
												<div class="checkout-buttons clearfix">
													<label for="note" class="note-label">Ghi chú đơn hàng</label>
													<textarea class="form-control" id="note" name="note" rows="5"></textarea>
												</div>
												<button type="submit" id="checkout" class="btn-checkout button d-none " name="checkout" value="">Thanh toán</button>
											</div>
										</div>
									</div>
									<div class="cart-row">
										<div class="order-invoice-block">
											<div class="checkbox">
												<input type="hidden" name="attributes[invoice]" id="re-checkbox-bill" value="no">
												<input type="checkbox" id="checkbox-bill" value="yes" name="regular-checkbox" class="regular-checkbox">
												<label for="checkbox-bill" class="box"></label>
												<label for="checkbox-bill" class="title">Xuất hoá đơn cho đơn hàng</label>
											</div>


											<div class="bill-field">
												<div class="form-group">
													<input type="text" class="form-control val-f check_change" name="attributes[bill_order_company]" value="" placeholder="Tên công ty...">
												</div>
												<div class="form-group">
													<input type="number" pattern=".{10,}" onkeydown="return HRT.All.FilterInput(event)" onpaste="HRT.All.handlePaste(event)" class="form-control val-f val-n check_change" name="attributes[bill_order_tax_code]" value="" placeholder="Mã số thuế...">
												</div>
												<div class="form-group">
													<input type="email" class="form-control val-f val-mail check_change" name="attributes[bill_email]" value="" placeholder="Email...">
												</div>
												<div class="form-group">
													<input type="text" class="form-control val-f check_change" name="attributes[bill_order_address]" value="" placeholder="Địa chỉ công ty...">
												</div>
												<div class="form-btn">
													<a href="javascript:void();" class="button btn-save">Lưu thông tin</a>
												</div>
											</div>
										</div>
									</div>
								</form>
							</div>
						
						</div>
					</div>

					<div class="col-lg-4 col-md-12 col-12 sidebarCart-sticky">
						<div class="wrap-order-summary">
							<div class="order-summary-block">
								<h2 class="summary-title">Thông tin đơn hàng</h2>



								<div class="summary-total">
									<p>Tổng tiền: <span>7,990,000₫</span></p>
								</div>
								<div class="summary-action">
									<p>Phí vận chuyển sẽ được tính ở trang thanh toán.</p><p>Bạn cũng có thể nhập mã giảm giá ở trang thanh toán.</p><p>Bạn cũng có thể nhập mã giảm giá ở trang thanh toán.</p>									<div class="summary-alert alert alert-danger ">
										Giỏ hàng của bạn hiện chưa đạt mức tối thiểu để thanh toán.
									</div>
								</div>
								<div class="summary-button">
									<a id="btnCart-checkout" class="checkout-btn btnred " data-price-min="40000" data-price-total="7990000" href="#">THANH TOÁN </a>
								</div>
							</div>
							<div class="order-summary-block order-summary-notify ">
								<div class="summary-warning alert-order">
									<p class="textmr"><strong>Chính sách mua hàng</strong>:</p>
									<p>Hiện chúng tôi chỉ áp dụng thanh toán với đơn hàng có giá trị tối thiểu <strong>40.000₫ </strong> trở lên.</p>
								</div>
							</div>

						</div>
					</div>
				</div>
			}
			else
			{
				<h1>Deo co gi</h1>
			}




			</div>
		
		
    </div>
</div>